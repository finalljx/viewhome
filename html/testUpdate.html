<!DOCTYPE html> 
<html>
	<head>
		<title>测试客户端升级</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=1.0"/>

		<link rel="stylesheet" href="../lib/jquery-mobile/jquery.mobile.min.css" /> 

		<link rel="stylesheet" href="../assets/jquery.mobile-sugon.css" /> 

		
		<script src="../lib/jquery/jquery.min.js"></script>		
		<script src="../lib/jquery-cookie/jquery.cookie.js"></script>	
		<script src="../lib/encrypt/encrypt.js"></script>
		<script src="../lib/json/json2.js"></script>
		<script src="../lib/hori/hori.js?tag=21369"></script>
		
		<script src="../lib/jquery-mobile/jquery.mobile.min.js"></script>
		
		<script src="../config/web/config.js"></script>

				
		<style>
			a{text-decoration:none;}
		</style>
		

		<script type="text/javascript">
			$(document).ready(function(){

				

			
				

			});
			
			function testUpdate(){
				
				
				
				var url = $.trim($("#urlAddress").val());
				var data = $("#jsonData").val();
				
				
				
				
				$.hori.ajax({
						"type":"post",
						"url":url,
						"data":data,
						"success":function(res){
								
							$("#updateData").val(JSON.stringify(res));

						},
						"error":function(res){
							alert(res);
							
						}
					})
			}

			
			
			
		</script>
	</head>
	<body>
        <!-- 登录页面 -->
		<div data-role="page" id="login" class="login">
			<div data-role="content" align="center">
				
				<ul id="viewBody" data-role="listview" data-theme="c" data-inset="true" style="max-width:1800px;" >
					<li data-role="list-divider" ><a href="javascript:void(0);" data-theme="f" ></a></li>
					<li data-role="fieldcontain" data-type="horizontal" >
						<table style="width:100%" cellspaceing="0" cellpadding="0" border="0">
							<tr><td>
							<strong>url地址:</strong>
							</td><td>
							<input type="text" name="urlAddress" style="outline:none;width:100%;border:0;" id="urlAddress" value="http://serverip/p" />
							</td></tr>
						</table>
					</li>
					<li data-role="fieldcontain" data-type="horizontal" >
						<pre>参数说明：
							resourceVersion:当前资源版本号
							platformId:1 表示安卓，2表示ios
							clientVersionCode:判断是否客户端需要升级的流水号
							appKey:应用的appkey
						</pre>
					</li>
					<li data-role="fieldcontain">
						<table style="width:100%" cellspaceing="0" cellpadding="0" border="0">
							<tr><td>
							<strong>data数据:</strong>
							</td><td>
							<TEXTAREA  style="outline:none;width:100%;height:200px;border:0;" name="jsonData"  id="jsonData" >{"body":{"resourceVersion":"3","platformId":"2","clientVersionCode":"2013110601"},"head":{"service":"updateService","accessToken":"","method":"getUpdateInfo","appKey":"a435fc2f4da343fb9fb8bcdf5a57ce86","sign":""}}</TEXTAREA>
							</td></tr>
						</table>
					</li>
					<li data-role="fieldcontain">
						<table style="width:100%" cellspaceing="0" cellpadding="0" border="0">
							<tr><td>
							<strong>返回结果:</strong>
							</td><td>
							<TEXTAREA   name="updateData"  id="updateData" style="outline:none;width:100%;height:300px;border:0" ></TEXTAREA>
							</td></tr>
						</table>
					</li>
					
				</ul>
				
				<div class="ui-grid-a">
					<div class="ui-block-a">
						
						<a href="javascript:void(0)" onclick="testUpdate()" data-theme="f" data-role="button" data-icon="check" >&nbsp;测&nbsp;试&nbsp;</a>
					</div>
					
					
				</div>
			</div>
			
		</div>
	</body>
</html>
